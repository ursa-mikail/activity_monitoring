
<html>
<head>
    <title>Score Time Series</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body { font-family: Arial; margin: 40px; }
        #controls { margin-bottom: 20px; }
        #logViewer { border: 1px solid #ccc; padding: 10px; margin-top: 20px; }
        label { font-weight: bold; }
    </style>
</head>
<body>

<h2>Score Time Series with Logs and Filters</h2>

<div id="controls">
    <label for="tagFilter">Filter by Tags:</label>
    <select id="tagFilter" multiple style="width:300px;height:100px;"></select>
    <button onclick="downloadCSV()">Download CSV</button>
</div>

<div id="chart"></div>

<div id="logViewer">
    <h3>Log Viewer</h3>
    <p id="logContent">Click on a point to view the log message.</p>
</div>

<script>
    const data = [{"Timestamp":"2025-05-08_0352:11 [1746676331]","datetime":"2025-05-08T03:52:11.418","log":"Part whatever peace modern page list relate.","score":73.65,"reference":"0a54301d-d225-469c-85db-80701fde7ce5","tags":["hard"],"tag_str":"hard"},{"Timestamp":"2025-05-08_0451:11 [1746679871]","datetime":"2025-05-08T04:51:11.418","log":"Bed name exactly happen type real candidate could.","score":97.65,"reference":"c5ed9614-4507-457a-833a-a00c7337ef59","tags":["young","only"],"tag_str":"young, only"},{"Timestamp":"2025-05-08_0505:11 [1746680711]","datetime":"2025-05-08T05:05:11.418","log":"Show forward common.","score":57.71,"reference":"0cd92ffe-8e26-44b7-a8be-4b8ce1c06eb2","tags":["notice","raise"],"tag_str":"notice, raise"},{"Timestamp":"2025-05-08_0749:11 [1746690551]","datetime":"2025-05-08T07:49:11.418","log":"Field beat easy over.","score":3.2,"reference":"1b396931-a04b-4505-a365-ec5ea3187500","tags":["thus","close","past"],"tag_str":"thus, close, past"},{"Timestamp":"2025-05-08_0946:11 [1746697571]","datetime":"2025-05-08T09:46:11.418","log":"Dark assume small paper rather.","score":23.02,"reference":"5e486fa6-a447-4f2d-a903-eab5c4eeed8b","tags":["sign","break","resource"],"tag_str":"sign, break, resource"},{"Timestamp":"2025-05-08_1441:11 [1746715271]","datetime":"2025-05-08T14:41:11.418","log":"Head unit wife production same add.","score":40.19,"reference":"87c2c9fb-a86c-4d41-b25e-59798ea1c0e7","tags":["just","final"],"tag_str":"just, final"},{"Timestamp":"2025-05-08_1451:11 [1746715871]","datetime":"2025-05-08T14:51:11.418","log":"Research company indicate break because either evidence.","score":39.07,"reference":"bbcb6318-60d3-4b43-8f9d-f841f60f7244","tags":["conference","ready","kitchen"],"tag_str":"conference, ready, kitchen"},{"Timestamp":"2025-05-08_1618:11 [1746721091]","datetime":"2025-05-08T16:18:11.418","log":"Generation top eat necessary.","score":33.57,"reference":"e3d38aea-d22c-4c3b-bdeb-47952b4b1b47","tags":["floor","military","remember"],"tag_str":"floor, military, remember"},{"Timestamp":"2025-05-08_1642:11 [1746722531]","datetime":"2025-05-08T16:42:11.418","log":"Detail think table base turn amount.","score":58.52,"reference":"ebea3e30-4d9c-4870-9895-c7162e1ba734","tags":["paper"],"tag_str":"paper"},{"Timestamp":"2025-05-08_2028:11 [1746736091]","datetime":"2025-05-08T20:28:11.418","log":"Pressure project book body.","score":42.33,"reference":"2e7cdd17-8160-4b9d-bf8f-7a119c78e5bf","tags":["admit"],"tag_str":"admit"},{"Timestamp":"2025-05-08_2259:11 [1746745151]","datetime":"2025-05-08T22:59:11.418","log":"Director budget form sign nice top decide.","score":67.5,"reference":"6efc1b07-1a2e-4844-9cce-1dcc4e14beb9","tags":["stay","win","word"],"tag_str":"stay, win, word"},{"Timestamp":"2025-05-09_0004:11 [1746749051]","datetime":"2025-05-09T00:04:11.418","log":"Alone father trip ready arrive.","score":58.39,"reference":"86c3bcee-68da-4963-a34d-1cb02c1b741f","tags":["free","throw"],"tag_str":"free, throw"},{"Timestamp":"2025-05-09_0147:11 [1746755231]","datetime":"2025-05-09T01:47:11.418","log":"History question area property relationship teach mother.","score":65.2,"reference":"4f636cd5-22d0-4769-a269-3bb94af6da46","tags":["place"],"tag_str":"place"},{"Timestamp":"2025-05-09_0254:11 [1746759251]","datetime":"2025-05-09T02:54:11.418","log":"Wife force dream us strategy woman.","score":61.79,"reference":"e076c85b-6dc2-4be0-befe-b59ad9119461","tags":["amount","modern","hit"],"tag_str":"amount, modern, hit"},{"Timestamp":"2025-05-09_0412:11 [1746763931]","datetime":"2025-05-09T04:12:11.418","log":"However guess white method.","score":15.57,"reference":"e2ad9d22-75f4-4453-ab1a-c3e6c5d86766","tags":["the","factor"],"tag_str":"the, factor"},{"Timestamp":"2025-05-09_0703:11 [1746774191]","datetime":"2025-05-09T07:03:11.418","log":"Vote trouble but oil economic college before daughter.","score":67.97,"reference":"59ef1577-0831-4e81-8b8a-a698e12584f6","tags":["field","student","media"],"tag_str":"field, student, media"},{"Timestamp":"2025-05-09_1005:11 [1746785111]","datetime":"2025-05-09T10:05:11.418","log":"Actually field goal.","score":68.63,"reference":"71ee9941-89b9-494e-8ab9-12089b39a086","tags":["own"],"tag_str":"own"},{"Timestamp":"2025-05-09_1459:11 [1746802751]","datetime":"2025-05-09T14:59:11.418","log":"Him never fear value.","score":87.28,"reference":"24924a06-16ef-4390-a81c-208fed1df1c7","tags":["necessary","little"],"tag_str":"necessary, little"},{"Timestamp":"2025-05-09_2025:11 [1746822311]","datetime":"2025-05-09T20:25:11.418","log":"Particular concern entire federal.","score":36.12,"reference":"5f032838-993c-4c5c-ba0d-416fbed38dea","tags":["maybe","central","cell"],"tag_str":"maybe, central, cell"},{"Timestamp":"2025-05-09_2117:11 [1746825431]","datetime":"2025-05-09T21:17:11.418","log":"Simply every third miss ago position without.","score":81.58,"reference":"6c70c75e-fd9c-42f4-b50d-7295a375ed5f","tags":["team"],"tag_str":"team"},{"Timestamp":"2025-05-09_2132:11 [1746826331]","datetime":"2025-05-09T21:32:11.418","log":"None because want scene record hospital full note.","score":76.49,"reference":"972ac4d2-5bea-4fba-9423-6a01f4e26a67","tags":["mention","medical","stop"],"tag_str":"mention, medical, stop"},{"Timestamp":"2025-05-10_0259:11 [1746845951]","datetime":"2025-05-10T02:59:11.418","log":"As great least thought.","score":23.85,"reference":"8a1c5741-8f89-4dcd-a38c-10fbda9a5413","tags":["set"],"tag_str":"set"},{"Timestamp":"2025-05-10_0308:11 [1746846491]","datetime":"2025-05-10T03:08:11.418","log":"Part structure simply.","score":22.95,"reference":"76772540-17d1-432d-859a-3404fe085cf7","tags":["plant","tonight","simple"],"tag_str":"plant, tonight, simple"},{"Timestamp":"2025-05-10_0703:11 [1746860591]","datetime":"2025-05-10T07:03:11.418","log":"Type discover inside ready.","score":56.43,"reference":"cf460e62-d091-48a9-9376-7495ef1584b4","tags":["least"],"tag_str":"least"},{"Timestamp":"2025-05-10_0714:11 [1746861251]","datetime":"2025-05-10T07:14:11.418","log":"Computer yard support lead challenge happen.","score":43.46,"reference":"9a668535-13a1-44c7-a74c-fd420ce54f6e","tags":["art"],"tag_str":"art"},{"Timestamp":"2025-05-10_0811:11 [1746864671]","datetime":"2025-05-10T08:11:11.418","log":"Around its recognize eat pick PM artist.","score":85.45,"reference":"6ecc2fbb-a4a8-40fd-b6ff-17806006d6ef","tags":["official"],"tag_str":"official"},{"Timestamp":"2025-05-10_0821:11 [1746865271]","datetime":"2025-05-10T08:21:11.418","log":"Child author artist way cultural.","score":97.63,"reference":"7d04aea5-d595-4cd2-b200-8c77e852974a","tags":["century","since"],"tag_str":"century, since"},{"Timestamp":"2025-05-10_1000:11 [1746871211]","datetime":"2025-05-10T10:00:11.418","log":"List issue movement office part control collection.","score":58.4,"reference":"d204e779-7be5-4bb6-8453-30c75afc55f4","tags":["cold","clearly","camera"],"tag_str":"cold, clearly, camera"},{"Timestamp":"2025-05-10_1102:11 [1746874931]","datetime":"2025-05-10T11:02:11.418","log":"Late face red difficult grow president arrive four.","score":86.09,"reference":"adc5b851-c726-4314-8777-cbc31f265ba4","tags":["both","western"],"tag_str":"both, western"},{"Timestamp":"2025-05-10_1139:11 [1746877151]","datetime":"2025-05-10T11:39:11.418","log":"South cost quality hope think player.","score":50.27,"reference":"575c8554-a2c4-4b25-bed9-36b57eaa6059","tags":["information","voice","stock"],"tag_str":"information, voice, stock"},{"Timestamp":"2025-05-10_1241:11 [1746880871]","datetime":"2025-05-10T12:41:11.418","log":"Democratic allow teach person compare.","score":73.16,"reference":"c5b46b8e-66cc-45a2-b6f6-722bead32eea","tags":["successful","science","catch"],"tag_str":"successful, science, catch"},{"Timestamp":"2025-05-10_1632:11 [1746894731]","datetime":"2025-05-10T16:32:11.418","log":"Treat girl cold consumer physical level player.","score":96.5,"reference":"b09b76c1-fe00-46e7-a70c-ad9b2331fade","tags":["road"],"tag_str":"road"},{"Timestamp":"2025-05-10_2016:11 [1746908171]","datetime":"2025-05-10T20:16:11.418","log":"Trade in administration teacher song through.","score":85.19,"reference":"3ec5bca9-8fcc-4f20-bb66-8656359ce19e","tags":["subject"],"tag_str":"subject"},{"Timestamp":"2025-05-10_2106:11 [1746911171]","datetime":"2025-05-10T21:06:11.418","log":"Bank Mr entire left.","score":49.29,"reference":"cd4b84b8-d046-4ecd-a82f-77d242f6bd3a","tags":["first","list"],"tag_str":"first, list"},{"Timestamp":"2025-05-10_2350:11 [1746921011]","datetime":"2025-05-10T23:50:11.418","log":"Deal meeting bar challenge.","score":86.61,"reference":"0e2f32c0-ffa6-4e82-bce3-fee3f803541a","tags":["national","off","production"],"tag_str":"national, off, production"},{"Timestamp":"2025-05-11_0136:11 [1746927371]","datetime":"2025-05-11T01:36:11.418","log":"Decide off pattern natural political entire why.","score":51.16,"reference":"917b8b3e-35e1-4522-8213-3dd2e6f17600","tags":["born","possible","production"],"tag_str":"born, possible, production"},{"Timestamp":"2025-05-11_0426:11 [1746937571]","datetime":"2025-05-11T04:26:11.418","log":"Little visit responsibility always.","score":85.74,"reference":"2baabf71-9138-4e26-b599-5853aa9e65d6","tags":["minute","hand","put"],"tag_str":"minute, hand, put"},{"Timestamp":"2025-05-11_0838:11 [1746952691]","datetime":"2025-05-11T08:38:11.418","log":"Meeting black current expect strategy.","score":98.79,"reference":"f202a3dc-0beb-4792-8521-3d5ea2f2a5c7","tags":["issue","statement","share"],"tag_str":"issue, statement, share"},{"Timestamp":"2025-05-11_1126:11 [1746962771]","datetime":"2025-05-11T11:26:11.418","log":"Bed no must specific process campaign front.","score":38.91,"reference":"ffcb3f96-992e-42a5-927b-76e500508a82","tags":["sport","economy","cup"],"tag_str":"sport, economy, cup"},{"Timestamp":"2025-05-11_1455:11 [1746975311]","datetime":"2025-05-11T14:55:11.418","log":"To order argue we artist.","score":7.17,"reference":"35ab1bc7-a7ec-45ae-8e5d-1065aa7f9bb9","tags":["really"],"tag_str":"really"},{"Timestamp":"2025-05-11_1855:11 [1746989711]","datetime":"2025-05-11T18:55:11.418","log":"Remember bad fast I score.","score":61.68,"reference":"38552ac1-56e1-47df-b9bf-f4f4ca149ab7","tags":["media","if"],"tag_str":"media, if"},{"Timestamp":"2025-05-11_2057:11 [1746997031]","datetime":"2025-05-11T20:57:11.418","log":"Nothing fly campaign she statement.","score":66.27,"reference":"1f55791d-7e14-4c31-a8ef-b645392ca427","tags":["term"],"tag_str":"term"},{"Timestamp":"2025-05-11_2123:11 [1746998591]","datetime":"2025-05-11T21:23:11.418","log":"Market reflect continue break.","score":1.63,"reference":"17e16209-f23b-4348-ba22-b30d480f252d","tags":["late","step","always"],"tag_str":"late, step, always"},{"Timestamp":"2025-05-11_2326:11 [1747005971]","datetime":"2025-05-11T23:26:11.418","log":"From forget travel pick increase service and.","score":48.79,"reference":"0aecd069-0b80-4888-b6a4-70de1839b513","tags":["cup","role","performance"],"tag_str":"cup, role, performance"},{"Timestamp":"2025-05-11_2349:11 [1747007351]","datetime":"2025-05-11T23:49:11.418","log":"Image vote movement science develop.","score":90.98,"reference":"59cb7667-8016-4cb1-8c89-134bbf922f22","tags":["with","anything"],"tag_str":"with, anything"},{"Timestamp":"2025-05-12_0345:11 [1747021511]","datetime":"2025-05-12T03:45:11.418","log":"Because at service low investment group hour join.","score":87.96,"reference":"e16f57e6-f28d-453c-aff9-736b060b3a48","tags":["save","garden"],"tag_str":"save, garden"},{"Timestamp":"2025-05-12_0421:11 [1747023671]","datetime":"2025-05-12T04:21:11.418","log":"Throw certainly particularly debate hundred computer work.","score":83.74,"reference":"fa9c614f-0834-4662-9e9f-7288e7a71b8b","tags":["system","big","officer"],"tag_str":"system, big, officer"},{"Timestamp":"2025-05-12_0725:11 [1747034711]","datetime":"2025-05-12T07:25:11.418","log":"Situation serious cell teacher here.","score":77.06,"reference":"3a6af1c1-a427-483f-a4fe-95cf439b5c67","tags":["local","to","benefit"],"tag_str":"local, to, benefit"},{"Timestamp":"2025-05-12_1017:11 [1747045031]","datetime":"2025-05-12T10:17:11.418","log":"Bill understand assume store before effect.","score":22.86,"reference":"3feeff8f-65ae-4616-8c59-4d1a73b26c16","tags":["reason","have","those"],"tag_str":"reason, have, those"},{"Timestamp":"2025-05-12_1021:11 [1747045271]","datetime":"2025-05-12T10:21:11.418","log":"Cup school general best beyond what or some.","score":75.99,"reference":"8d8e46e7-51a9-43df-a016-038c46bc58b9","tags":["focus","company","television"],"tag_str":"focus, company, television"},{"Timestamp":"2025-05-12_1153:11 [1747050791]","datetime":"2025-05-12T11:53:11.418","log":"Remember college perhaps build side ask.","score":28.52,"reference":"3c28cedb-6264-4611-9a59-b7ef0c08e3d2","tags":["next"],"tag_str":"next"},{"Timestamp":"2025-05-12_1954:11 [1747079651]","datetime":"2025-05-12T19:54:11.418","log":"Science billion prepare.","score":55.52,"reference":"c1fe00c9-834e-4a58-9658-873fddc208c7","tags":["black","feeling","sort"],"tag_str":"black, feeling, sort"},{"Timestamp":"2025-05-12_1955:11 [1747079711]","datetime":"2025-05-12T19:55:11.418","log":"Method protect it down.","score":68.91,"reference":"126527ce-6a4b-4593-9349-24c2efb7ce22","tags":["rise"],"tag_str":"rise"},{"Timestamp":"2025-05-12_2042:11 [1747082531]","datetime":"2025-05-12T20:42:11.418","log":"Local soldier magazine skill rise.","score":19.98,"reference":"0fc85908-e537-4262-9800-b505c6e7b30c","tags":["music","fast"],"tag_str":"music, fast"},{"Timestamp":"2025-05-12_2213:11 [1747087991]","datetime":"2025-05-12T22:13:11.418","log":"Expect manager expert seek.","score":86.97,"reference":"bf225288-65ee-44d3-bfcf-96df97dbc9d9","tags":["bring","tree","fight"],"tag_str":"bring, tree, fight"},{"Timestamp":"2025-05-13_0148:11 [1747100891]","datetime":"2025-05-13T01:48:11.418","log":"Know teach section fund teacher again decide experience.","score":34.31,"reference":"a51642c7-3626-455e-b482-e3f4eae91831","tags":["finally"],"tag_str":"finally"},{"Timestamp":"2025-05-13_0336:11 [1747107371]","datetime":"2025-05-13T03:36:11.418","log":"Class on kind security medical.","score":75.32,"reference":"b8544c7a-e517-4d45-b85f-49ad655c0a3a","tags":["they","over","finish"],"tag_str":"they, over, finish"},{"Timestamp":"2025-05-13_0533:11 [1747114391]","datetime":"2025-05-13T05:33:11.418","log":"Agency system order pressure.","score":53.4,"reference":"ff8c0a0f-9656-4988-a0ed-4b112e2f8751","tags":["include"],"tag_str":"include"},{"Timestamp":"2025-05-13_0551:11 [1747115471]","datetime":"2025-05-13T05:51:11.418","log":"Machine individual goal stop partner my federal.","score":83.19,"reference":"6f43e65f-c9e4-4e3f-a58c-79739baffcb2","tags":["feeling"],"tag_str":"feeling"},{"Timestamp":"2025-05-13_1412:11 [1747145531]","datetime":"2025-05-13T14:12:11.418","log":"These always theory actually like floor challenge amount.","score":44.95,"reference":"bd56dc97-e67b-4337-b0db-66d5f0b80e82","tags":["open","reason","rest"],"tag_str":"open, reason, rest"},{"Timestamp":"2025-05-13_1627:11 [1747153631]","datetime":"2025-05-13T16:27:11.418","log":"Myself feel fine among in.","score":41.97,"reference":"2f50c914-48ea-4fc3-94ee-82768cab2507","tags":["other","one","money"],"tag_str":"other, one, money"},{"Timestamp":"2025-05-13_1825:11 [1747160711]","datetime":"2025-05-13T18:25:11.418","log":"Cover support eye quickly.","score":74.33,"reference":"4a293191-625e-4d75-828e-6d214d156bc5","tags":["some","develop"],"tag_str":"some, develop"},{"Timestamp":"2025-05-13_1857:11 [1747162631]","datetime":"2025-05-13T18:57:11.418","log":"Green show behind away.","score":75.36,"reference":"44104947-7d2c-430a-9b7c-6530d9d85e01","tags":["former","reality","carry"],"tag_str":"former, reality, carry"},{"Timestamp":"2025-05-13_1900:11 [1747162811]","datetime":"2025-05-13T19:00:11.418","log":"Charge likely serve along outside paper.","score":89.69,"reference":"debb216e-baa0-4e7c-a6cf-a8bccca5db8a","tags":["office","throughout"],"tag_str":"office, throughout"},{"Timestamp":"2025-05-13_2014:11 [1747167251]","datetime":"2025-05-13T20:14:11.418","log":"Audience build range entire key mouth book.","score":48.91,"reference":"8878aaa9-2992-487b-8ce8-76fef8215679","tags":["rise","phone"],"tag_str":"rise, phone"},{"Timestamp":"2025-05-14_0110:11 [1747185011]","datetime":"2025-05-14T01:10:11.418","log":"Lead family out.","score":2.03,"reference":"8931f21b-797e-4125-bf9b-cba9cb074da3","tags":["strong","word"],"tag_str":"strong, word"},{"Timestamp":"2025-05-14_0406:11 [1747195571]","datetime":"2025-05-14T04:06:11.418","log":"Particular kind upon live accept attack skill sit.","score":90.86,"reference":"b34b5c67-468b-440e-b8f4-d294630424b7","tags":["single"],"tag_str":"single"},{"Timestamp":"2025-05-14_0604:11 [1747202651]","datetime":"2025-05-14T06:04:11.418","log":"Position big agent.","score":94.28,"reference":"d30c247c-49bb-48fe-88aa-379598e156e9","tags":["story"],"tag_str":"story"},{"Timestamp":"2025-05-14_0925:11 [1747214711]","datetime":"2025-05-14T09:25:11.418","log":"Show wall discuss make allow treat.","score":0.88,"reference":"05e60b02-8a2f-437c-81b8-e1bce6a02495","tags":["improve","news","agent"],"tag_str":"improve, news, agent"},{"Timestamp":"2025-05-14_1100:11 [1747220411]","datetime":"2025-05-14T11:00:11.418","log":"Identify degree billion form again member.","score":27.7,"reference":"0b7dc831-62b9-4888-a8f7-693e0d39110a","tags":["sport"],"tag_str":"sport"},{"Timestamp":"2025-05-14_1114:11 [1747221251]","datetime":"2025-05-14T11:14:11.418","log":"Often million style war list ready thought.","score":26.57,"reference":"2faf6b3d-a8e5-49de-bd59-a35fc0778aaa","tags":["even","suffer"],"tag_str":"even, suffer"},{"Timestamp":"2025-05-14_1339:11 [1747229951]","datetime":"2025-05-14T13:39:11.418","log":"Court middle act up for seat.","score":77.19,"reference":"14dbb0fe-50b3-42a5-acf7-7ecdb91e4257","tags":["option"],"tag_str":"option"},{"Timestamp":"2025-05-14_1650:11 [1747241411]","datetime":"2025-05-14T16:50:11.418","log":"Actually international job walk try sea then.","score":78.26,"reference":"ba9210ee-5c3e-481e-9531-bb2ec70995ee","tags":["live"],"tag_str":"live"},{"Timestamp":"2025-05-14_1718:11 [1747243091]","datetime":"2025-05-14T17:18:11.418","log":"Reach why price admit idea community.","score":42.98,"reference":"72dfab3c-a6ab-4c2a-938f-267b68049592","tags":["spend","team"],"tag_str":"spend, team"},{"Timestamp":"2025-05-14_1822:11 [1747246931]","datetime":"2025-05-14T18:22:11.418","log":"Commercial thank meeting use politics budget clear all.","score":75.48,"reference":"94e200db-81f5-499c-bf60-892122ed71db","tags":["between","city"],"tag_str":"between, city"},{"Timestamp":"2025-05-14_2110:11 [1747257011]","datetime":"2025-05-14T21:10:11.418","log":"Over detail them Mr.","score":57.11,"reference":"c894414e-3663-442b-98b2-df2b24cf0ee9","tags":["never","seek","degree"],"tag_str":"never, seek, degree"},{"Timestamp":"2025-05-14_2327:11 [1747265231]","datetime":"2025-05-14T23:27:11.418","log":"Suggest professor evening risk.","score":55.3,"reference":"7e16c03d-69b9-407e-9533-9ea3a5838695","tags":["try","market","act"],"tag_str":"try, market, act"},{"Timestamp":"2025-05-15_0812:11 [1747296731]","datetime":"2025-05-15T08:12:11.418","log":"Stage compare investment create end boy prepare.","score":46.77,"reference":"3ec51485-852c-4600-a0c4-d5fadd6bc52f","tags":["in","because"],"tag_str":"in, because"},{"Timestamp":"2025-05-15_1252:11 [1747313531]","datetime":"2025-05-15T12:52:11.418","log":"Machine decide whatever story.","score":28.18,"reference":"b89aff40-438b-46f3-a405-2389b5a10768","tags":["image","song","set"],"tag_str":"image, song, set"},{"Timestamp":"2025-05-15_1319:11 [1747315151]","datetime":"2025-05-15T13:19:11.418","log":"Security dinner institution three.","score":47.57,"reference":"f5e5a932-ece2-4234-8758-d5a18674fa14","tags":["war","customer","down"],"tag_str":"war, customer, down"},{"Timestamp":"2025-05-15_1504:11 [1747321451]","datetime":"2025-05-15T15:04:11.418","log":"Since four to.","score":64.36,"reference":"ca056982-de90-462d-96cf-4caa28ad3d9f","tags":["wrong","film","traditional"],"tag_str":"wrong, film, traditional"},{"Timestamp":"2025-05-15_1720:11 [1747329611]","datetime":"2025-05-15T17:20:11.418","log":"Must level would week decide.","score":52.17,"reference":"d89e9898-2ea9-487d-8845-f710720861fc","tags":["represent","theory"],"tag_str":"represent, theory"},{"Timestamp":"2025-05-15_1829:11 [1747333751]","datetime":"2025-05-15T18:29:11.418","log":"Good vote fear time this.","score":10.33,"reference":"c9693db5-8024-4a2f-a3dc-80c13e7be797","tags":["involve","always","my"],"tag_str":"involve, always, my"},{"Timestamp":"2025-05-15_1937:11 [1747337831]","datetime":"2025-05-15T19:37:11.418","log":"Couple speak success finish.","score":81.56,"reference":"06ff9469-a818-42ed-9b95-080169860dde","tags":["just","describe"],"tag_str":"just, describe"},{"Timestamp":"2025-05-15_1952:11 [1747338731]","datetime":"2025-05-15T19:52:11.418","log":"Rise address hard each.","score":2.05,"reference":"c24ae0a3-ba21-4d7f-a7bf-c48ad42ae388","tags":["cup","produce"],"tag_str":"cup, produce"},{"Timestamp":"2025-05-15_2055:11 [1747342511]","datetime":"2025-05-15T20:55:11.418","log":"Tv indicate season amount loss.","score":66.0,"reference":"9e964930-f595-4607-b151-497699a50632","tags":["worker","arm","large"],"tag_str":"worker, arm, large"},{"Timestamp":"2025-05-15_2120:11 [1747344011]","datetime":"2025-05-15T21:20:11.418","log":"Get cultural skin focus live work human.","score":93.01,"reference":"68aa9484-4946-45d5-8c93-0504aadb41bd","tags":["site","fill","behavior"],"tag_str":"site, fill, behavior"},{"Timestamp":"2025-05-16_0010:11 [1747354211]","datetime":"2025-05-16T00:10:11.418","log":"Figure new end guess oil worker.","score":41.46,"reference":"beff1d18-06f2-4cc6-808b-64afc0caef5d","tags":["answer"],"tag_str":"answer"},{"Timestamp":"2025-05-16_0030:11 [1747355411]","datetime":"2025-05-16T00:30:11.418","log":"Onto people billion reduce staff.","score":1.39,"reference":"4b09fac9-83d2-4285-a374-47055626e572","tags":["itself","term"],"tag_str":"itself, term"},{"Timestamp":"2025-05-16_0330:11 [1747366211]","datetime":"2025-05-16T03:30:11.418","log":"Detail election those same.","score":19.52,"reference":"f7956d57-a572-49d5-8d09-575d8fd42f9d","tags":["skin","by","with"],"tag_str":"skin, by, with"},{"Timestamp":"2025-05-16_0444:11 [1747370651]","datetime":"2025-05-16T04:44:11.418","log":"Team red color woman.","score":92.53,"reference":"0e65069b-d0d8-4fec-a8b3-2247b7966e5c","tags":["tell"],"tag_str":"tell"},{"Timestamp":"2025-05-16_0923:11 [1747387391]","datetime":"2025-05-16T09:23:11.418","log":"Mrs onto half religious response source.","score":1.18,"reference":"265ab828-aad8-4b66-abd0-8d16ca677560","tags":["determine","military"],"tag_str":"determine, military"},{"Timestamp":"2025-05-16_1035:11 [1747391711]","datetime":"2025-05-16T10:35:11.418","log":"Establish tax tend impact six physical different follow.","score":34.71,"reference":"3e98f658-d212-4bdd-a1ec-89c69847dd42","tags":["training"],"tag_str":"training"},{"Timestamp":"2025-05-16_1701:11 [1747414871]","datetime":"2025-05-16T17:01:11.418","log":"Attack respond too role establish.","score":90.85,"reference":"d6200e7b-b1b3-435e-bd3d-db59a220e00f","tags":["grow"],"tag_str":"grow"},{"Timestamp":"2025-05-16_1852:11 [1747421531]","datetime":"2025-05-16T18:52:11.418","log":"Spring reach hair political suggest coach.","score":75.53,"reference":"42998e30-6340-4952-90f3-622be3ff5152","tags":["skill","parent","claim"],"tag_str":"skill, parent, claim"},{"Timestamp":"2025-05-16_2214:11 [1747433651]","datetime":"2025-05-16T22:14:11.418","log":"Spring ready perhaps wife then item article.","score":13.19,"reference":"1438cb92-69ac-4dea-b6a5-5a1de76e5a07","tags":["artist"],"tag_str":"artist"},{"Timestamp":"2025-05-17_1012:11 [1747476731]","datetime":"2025-05-17T10:12:11.418","log":"Win less speech region food.","score":89.63,"reference":"a40747db-7eb1-4506-a386-29253e75d1f4","tags":["fall"],"tag_str":"fall"},{"Timestamp":"2025-05-17_1503:11 [1747494191]","datetime":"2025-05-17T15:03:11.418","log":"Gun happy thus certain.","score":31.14,"reference":"581b5912-3cad-40b7-af8f-5bdf26fd3bc1","tags":["everybody","end","five"],"tag_str":"everybody, end, five"},{"Timestamp":"2025-05-17_1557:11 [1747497431]","datetime":"2025-05-17T15:57:11.418","log":"Big effect dream claim.","score":42.58,"reference":"a4010ba6-bcf8-4c31-be05-695614cc866b","tags":["now","watch","officer"],"tag_str":"now, watch, officer"},{"Timestamp":"2025-05-17_1852:11 [1747507931]","datetime":"2025-05-17T18:52:11.418","log":"Behavior suddenly agree worker upon.","score":11.61,"reference":"14a1ffc4-7d05-4d9a-aa5b-6cce5a095707","tags":["result","represent","operation"],"tag_str":"result, represent, operation"}];

    // Extract unique tags
    const uniqueTags = new Set();
    data.forEach(d => d.tags.forEach(t => uniqueTags.add(t)));

    // Populate tag filter
    const tagFilter = document.getElementById("tagFilter");
    [...uniqueTags].sort().forEach(tag => {
        const opt = document.createElement("option");
        opt.value = tag;
        opt.textContent = tag;
        tagFilter.appendChild(opt);
    });

    // Draw plot
    const trace = {
        x: data.map(d => d.datetime),
        y: data.map(d => d.score),
        mode: "markers+lines",
        type: "scatter",
        text: data.map(d => d.Timestamp),
        customdata: data.map(d => [d.log, d.tags.join(", ")]),
        hovertemplate: "<b>%{text}</b><br>Score: %{y}<br>Tags: %{customdata[1]}<extra></extra>"
    };

    const layout = {
        title: "Score Time Series",
        xaxis: { title: "Time" },
        yaxis: { title: "Score" },
        hovermode: "closest"
    };

    Plotly.newPlot("chart", [trace], layout);

    // Add log viewer interaction
    document.getElementById("chart").on("plotly_click", function(data) {
        const point = data.points[0];
        const log = point.customdata[0];
        document.getElementById("logContent").innerText = log;
    });

    // Add tag filter functionality
    tagFilter.addEventListener("change", () => {
        const selected = Array.from(tagFilter.selectedOptions).map(opt => opt.value);
        const filtered = data.filter(d => selected.length === 0 || d.tags.some(t => selected.includes(t)));

        Plotly.react("chart", [{
            x: filtered.map(d => d.datetime),
            y: filtered.map(d => d.score),
            mode: "markers+lines",
            type: "scatter",
            text: filtered.map(d => d.Timestamp),
            customdata: filtered.map(d => [d.log, d.tags.join(", ")]),
            hovertemplate: "<b>%{text}</b><br>Score: %{y}<br>Tags: %{customdata[1]}<extra></extra>"
        }], layout);
    });

    // Add download CSV functionality
    function downloadCSV() {
        const headers = Object.keys(data[0]);
        const csv = [headers.join(",")].concat(
            data.map(row => headers.map(h => JSON.stringify(row[h] || "")).join(","))
        ).join("\n");

        const blob = new Blob([csv], {type: "text/csv"});
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "score_data.csv";
        link.click();
    }
</script>

</body>
</html>
